<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>
        <button type='button' onclick="clickCounter()">点我！</button>
        <div id="result"></div>
    </p>
    <script>
        // 刷新后, js 运行, 解决方案 html5 存储, cookie
        // localStorage sessionStorage 可以
        // 三者的区别
        // let count = 0;
        // let result = document.getElementById('result'); // 查询， 时间开销
        // result.innerHTML = count;
        // function clickCounter() {
        //     count++;
        //     result.innerHTML = count;
        // }

        // Storage 将点击保存到本地 Storage 刻意练习
        // cokkie 浏览器存储的文本 http 每次都带上
        // localStorage 把一些关键的 css js 存储到本地 下次打开页面就会很快

        // js css png 浏览器 作为文件存储
        function clickCounter() {
            const result = document.getElementById('result');
            if (typeof Storage !== "undefined") { // 作用 浏览器支持本地Storage 浏览器嗅探
                // if (localStorage.clickCounter) { // 是否设置?
                //     // localStorage只支持string类型的存储。
                //     localStorage.clickCounter = Number(localStorage.clickCounter) + 1;
                // } else {
                //     localStorage.clickCounter = 1
                // }

                if (sessionStorage.clickCounter) { // 是否设置?
                    console.log(sessionStorage.clickCounter);
                    sessionStorage.clickCounter = Number(sessionStorage.clickCounter) + 1;
                } else {
                    sessionStorage.clickCounter = 1
                }
                result.innerHTML = `你在按钮上已经点击了${sessionStorage.clickCounter}次。`
            }
            // instanceof 判断是否是实例 返回 布尔值
            else {
                result.innerHTML = '浏览器不支持 Storage'
            }
        }
    </script>
</body>

</html>